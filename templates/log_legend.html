<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Legenda dos Logs</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <style>
        .legend-section {
            margin-bottom: 2.5rem;
        }
        .legend-section h2 {
            color: var(--primary-color);
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 10px;
            margin-bottom: 1.5rem;
        }
        code {
            background-color: #e0f2f1;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: monospace;
            color: #00695C;
        }
        pre {
            background-color: #f4f6f8;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #e0e0e0;
            white-space: pre-wrap;
            word-break: break-all;
            margin: 5px 0 0 0;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <header>
        <div class="logo-container">
            <div class="logo">
                <img src="{{ url_for('static', filename='logo.png') }}" alt="Logo">
            </div>
            <h1>Legenda dos Logs de Auditoria</h1>
        </div>
        <a href="{{ url_for('view_logs') }}" class="btn btn-secondary">Voltar aos Logs</a>
    </header>

    <div class="container">

        <div class="legend-section">
            <h2>Ações de Agendamento</h2>
            <table>
                <thead>
                    <tr>
                        <th>Ação</th>
                        <th>Descrição</th>
                        <th>Exemplo de Detalhes</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td data-label="Ação"><code>CREATE_APPOINTMENT</code></td>
                        <td data-label="Descrição">Registo de um novo agendamento feito por um utilizador.</td>
                        <td data-label="Exemplo"><pre>"new_value": {
  "nome": "João Silva",
  "data": "2024-10-05",
  "horario": "14:00"
}</pre></td>
                    </tr>
                    <tr>
                        <td data-label="Ação"><code>DELETE_APPOINTMENT</code></td>
                        <td data-label="Descrição">Um administrador apagou um agendamento existente.</td>
                        <td data-label="Exemplo"><pre>"old_value": {
  "id": 42,
  "nome": "Maria Oliveira",
  "deleted_by": "admin"
}</pre></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="legend-section">
            <h2>Ações de Autenticação e Utilizadores</h2>
            <table>
                 <thead>
                    <tr>
                        <th>Ação</th>
                        <th>Descrição</th>
                        <th>Exemplo de Detalhes</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td data-label="Ação"><code>ADMIN_LOGIN</code></td>
                        <td data-label="Descrição">Login bem-sucedido de um administrador.</td>
                        <td data-label="Exemplo"><pre>"new_value": {
  "username": "admin",
  "level": "primary"
}</pre></td>
                    </tr>
                    <tr>
                        <td data-label="Ação"><code>ADMIN_LOGOUT</code></td>
                        <td data-label="Descrição">Logout de um administrador.</td>
                        <td data-label="Exemplo"><pre>"new_value": {
  "username": "secundario"
}</pre></td>
                    </tr>
                    <tr>
                        <td data-label="Ação"><code>FAILED_LOGIN_ATTEMPT</code></td>
                        <td data-label="Descrição">Tentativa de login falhada na área de administração.</td>
                        <td data-label="Exemplo"><pre>"new_value": {
  "username": "tentativa"
}</pre></td>
                    </tr>
                    <tr>
                        <td data-label="Ação"><code>CREATE_ADMIN_USER</code></td>
                        <td data-label="Descrição">Criação de uma nova conta de administrador secundário.</td>
                        <td data-label="Exemplo"><pre>"new_value": {
  "username": "novo_admin"
}</pre></td>
                    </tr>
                     <tr>
                        <td data-label="Ação"><code>DELETE_ADMIN_USER</code></td>
                        <td data-label="Descrição">Exclusão de uma conta de administrador secundário.</td>
                        <td data-label="Exemplo"><pre>"old_value": {
  "username": "admin_removido"
}</pre></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="legend-section">
            <h2>Ações do Sistema</h2>
            <table>
                 <thead>
                    <tr>
                        <th>Ação</th>
                        <th>Descrição</th>
                        <th>Exemplo de Detalhes</th>
                    </tr>
                </thead>
                <tbody>
                     <tr>
                        <td data-label="Ação"><code>UPDATE_SETTING</code></td>
                        <td data-label="Descrição">Alteração de uma configuração geral do sistema.</td>
                        <td data-label="Exemplo"><pre>"new_value": {
  "key": "appointment_duration",
  "value": "45"
}</pre></td>
                    </tr>
                    <tr>
                        <td data-label="Ação"><code>EXPORT_APPOINTMENTS</code></td>
                        <td data-label="Descrição">Exportação da lista de agendamentos para um ficheiro Excel.</td>
                        <td data-label="Exemplo"><pre>"new_value": {
  "exported_records": 150,
  "export_by_user": "admin"
}</pre></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</body>
</html>